<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debian Comos</title>
</head>
<body>
    <h1>Debian Comos</h1>
    <ul>
        <li><a href="#sudo">Sudo</a></li>
        <li><a href="#apache2">Apache webserver + PHP </a></li>
    </ul>
    <hr>
    <h2 id="sudo">Sudo</h2>
    <textarea readonly name="sudo" id="" cols="150" rows="50">

Adicionar el usuario actual para utilizar sudo
-------------------------------------------------------------------------------------------------

Opcion1
#######

Como superusuario crear un archivo de configuracion extendido con el nombre por ejemplo sudo en el directorio:
/etc/sudoers.d

Este archivo debe incluir la linea
usuario    ALL=(ALL) NOPASSWD:ALL

Para probar ejecutar desde el usuario:
$ sudo whoami
root


Opcion2
#######

Como superusuario edite el archivo /etc/sudoers (cambie primero el modo del archivo para escritura)
y añada la siguiente linea:

    usuario    ALL=(ALL) NOPASSWD:ALL

Luego de la linea:

    # Allow members of group sudo to execute any command
    %sudo   ALL=(ALL:ALL) ALL

(quite el modo de escritura luego de grabar el archivo)    
De esta forma Ud. esta en capacidad de ejecutar todos los comandos que requieran provilegios de superusuario sin necesidad de 
ingresar la contraseña.

Si desea que se requiera ingresar la contraseña de administración es necesario remover de la linea ingresada esta instrucción:

    NOPASSWD:ALL

Para probar que la configuracion del usuario esta correcta se requiere ejecutar:

    $ sudo whoami

La respuesta debe ser:

    root

Opcion 3
########

adduser -g usuario sudo

    </textarea>
    <hr>
    <h2 id="apache2">Apache Webserver</h2>
    <textarea readonly name="apache2" id="" cols="150" rows="50">
    $ sudo apt update
    $ sudo apt install apache2
    $ systemctl status apache2
        ● apache2.service - The Apache HTTP Server
        ...
        Active: active (running)
    To stop your web server, type:
    $ sudo systemctl stop apache2

    To start the web server when it is stopped, type:
    $ sudo systemctl start apache2
    
    To stop and then start the service again, type:
    $ sudo systemctl restart apache2
    
    If you are simply making configuration changes, Apache can often reload
    without dropping connections. To do this, use this command:
    $ sudo systemctl reload apache2
    
    By default, Apache is configured to start automatically when the server boots. If
    this is not what you want, disable this behavior by typing:
    $ sudo systemctl disable apache2
    
    To re-enable the service to start up at boot, type:
    $ sudo systemctl enable apache2
    
    -------------------------------------------------------------------------------------------------
    Configurar para desarrollo

    $ sudo nano /etc/apache2/apache2.conf
      ...
      <Directory /var/www/>      --> cambiar al directorio de trabajo del usuario

    $ sudo nano /etc/apache2/envvars
      ...
      export APACHE_RUN_USER=www-data                --> cambiar www-data por el usuario 
      export APACHE_RUN_GROUP=www-data               --> cambiar www-data por el usuario

    $ sudo nano /etc/apache2/sites-available/000-default.conf
      ...
      #ServerName                    --> habilitar y cambiar por localhost
      DocumentRoot /var/www/html     --> cambiar al directorio de trabajo
    
    $ sudo systemctl restart apache2

    -------------------------------------------------------------------------------------------------
    PHP

    $ sudo apt install php libapache2-mod-php

    $ php --version

    Para realizar la prueba incluir un archivo test.php en el directorio de trabajo con el siguiente 
    contenido:

    <?php
        phpinfo();
    ?>

    </textarea>
    <footer>
        <hr>
        <a href="../howtos.html">Comos</a>
    </footer>    
</body>
</html>