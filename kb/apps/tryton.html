<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/styles.css">
    <title>TRYTON</title>
</head>
<body>
    <h1>Tryton</h1>
    <ul>
        <li><a href="#install">Instalacion y configuracion inicial</a></li>
    </ul>
    <hr>
    <h2 id="install"></h2>
    <textarea>
TRYTON
--------------
Obtener los fuentes del repositorio oficial:
    hg clone https://foss.heptapod.net/tryton/tryton

    Nota: Existe un espejo en github: 
        git clone https://github.com/tryton/tryton.git

Requerimientos:
    python 3.10
    postgresql
    nodejs

Creo y activo el ambiente virtual:
    python -m venv tryton-env
    source tryton-env/bin/activate  

Instalo las dependencias:
    .hooks/update_requirements
    .hooks/link_modules
    python -m pip install --upgrade pip
    pip install -e trytond -e tryton -e proteus -r requirements.txt -r requirements-dev.txt


Crear el archivo de configuracion y modificarlo:

        cambiarse al directorio en donde esta trytond
        Configuracion: trytond.conf
        +-----------------------------------------------------------------------------------------------------------------------+
        | [database]														|
        | uri = postgresql://developer:s3cret0@localhost:5432/trytonerp								|
        |															|
        | [web]															|
        | root = /home/fabianpc/Workspace/tryton/sao										|
        +-----------------------------------------------------------------------------------------------------------------------+
                
Inicilizar la base de datos (aplicar la misma instruccion para actualizar)
        
        bin/trytond-admin -c trytond.conf -d trytonerp --all

Ejecutar el servidor:

        bin/trytond -c trytond.conf
        
======================================================================================================
Nota: todos los datos de la configuracion se pueden suplir con variables de ambiente de esta forma:
export TRYTOND_DATABASE_URI='postgresql://developer:s3cret0@localhost:5432/trytonerp'
 
[TRYTOND]_[seccion]_[variable]
======================================================================================================


Para activar el cliente SAO
---------------------------
        
        Prerequisites
        -------------
                
        # Download and install nvm:
        curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash

        # in lieu of restarting the shell
        \. "$HOME/.nvm/nvm.sh"

        # Download and install Node.js:
        nvm install 22

        # Verify the Node.js version:
        node -v # Should print "v22.15.0".
        nvm current # Should print "v22.15.0".

        # Verify npm version:
        npm -v # Should print "10.9.2".

       
        Installation
        ------------
        
        Once you've downloaded and unpacked the sao source release, enter the directory
        where the archive was unpacked, and run:
        
            $ npm install --production --legacy-peer-deps
        
        Development
        ...........
        
        For development, you have to run instead:
        
            $ npm install --legacy-peer-deps
            $ grunt dev

        Se tiene que incorporar el directorio en donde esta la aplicacion 
        
        [web]
        root = /home/fabianpc/Workspace/TRYTON/sao
        
        Luego de reiniciar el servidor se arranca la pagina inicial index.html (maravilla)
        
#########################################################################################################################
        
        
        Para la compilacion del cliente tryton:
        --------------------------------------
        
        ---------------------- dependencias externas
        $ sudo apt install libglib2.0-dev
        $ sudo apt install libgirepository1.0-dev
        $ sudo apt install libcairo2-dev
        $ sudo apt install libcairo2
        $ sudo apt install python3-cairo
        $ sudo apt-get install python3-dev
        
        
        --------------Dentro del proyecto:
        pip install pycairo
        python setup.py install
            
    </textarea>
    <footer>
        <hr>
        <a href="../../kb.html">Inicio</a>
    </footer>    
</body>
</html>